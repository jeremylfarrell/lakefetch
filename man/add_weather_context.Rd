% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/weather_integration.R
\name{add_weather_context}
\alias{add_weather_context}
\title{Add Weather Context to Fetch Results}
\usage{
add_weather_context(
  fetch_results,
  datetime_col = "datetime",
  windows_hours = c(24, 72, 168),
  depth_m = NULL
)
}
\arguments{
\item{fetch_results}{sf object with fetch results (must have datetime column)}

\item{datetime_col}{Name of the datetime column}

\item{windows_hours}{Vector of time windows in hours (default c(24, 72, 168))}

\item{depth_m}{Water depth for orbital velocity calculation}
}
\value{
sf object with additional weather columns
}
\description{
Adds historical weather metrics and cumulative wave energy to fetch
calculation results.
}
\details{
The input data must have a datetime column in POSIXct format or a format
that can be parsed (ISO 8601, or common date-time formats).
}
\examples{
if (FALSE) {
# After calculating fetch
results <- fetch_calculate(sites, lake)

# Add datetime to your results
results$results$datetime <- as.POSIXct("2024-07-15 14:00:00")

# Add weather context
results_with_weather <- add_weather_context(
  results$results,
  datetime_col = "datetime"
)
}

}
