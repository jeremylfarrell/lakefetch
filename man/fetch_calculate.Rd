% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/fetch_core.R
\name{fetch_calculate}
\alias{fetch_calculate}
\title{Calculate Fetch for Lake Sampling Sites}
\usage{
fetch_calculate(sites, lake, add_context = TRUE)
}
\arguments{
\item{sites}{Data frame or sf object with site locations}

\item{lake}{Lake boundary data from \code{\link{get_lake_boundary}}}

\item{add_context}{Logical; add NHD context if available (default TRUE)}
}
\value{
A list with elements:
\item{results}{sf object with fetch results for each site}
\item{lakes}{sf object with lake polygons used}
\item{angles}{Vector of angles used for fetch calculation}
}
\description{
Main entry point for fetch calculation. Takes sites and lake boundaries,
calculates directional fetch using ray-casting, and returns results with
exposure metrics.
}
\details{
For each site, the function:
\enumerate{
\item Assigns the site to its containing lake polygon
\item Buffers the site inward from shore (GPS accuracy adjustment)
\item Casts rays in all directions at specified angle resolution
\item Measures distance to shore in each direction
\item Calculates summary metrics (mean, max, effective fetch)
\item Derives exposure category (Sheltered/Moderate/Exposed)
}
}
\examples{
\dontrun{
sites <- load_sites("my_sites.csv")
lake <- get_lake_boundary(sites)
results <- fetch_calculate(sites, lake)

# Access results
results$results  # sf with all fetch data
results$lakes    # lake polygons
}

}
