% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/nhd_integration.R
\name{add_lake_context}
\alias{add_lake_context}
\title{Add Lake Context from NHD}
\usage{
add_lake_context(fetch_results, lake_polygons, utm_epsg)
}
\arguments{
\item{fetch_results}{sf object with fetch calculation results}

\item{lake_polygons}{sf object with lake polygons}

\item{utm_epsg}{EPSG code for UTM projection}
}
\value{
sf object with additional columns for NHD context
}
\description{
Add hydrological context to fetch results using the National Hydrography
Dataset (NHD). Includes outlet/inlet locations, watershed area, connectivity
classification, and stream order.
}
\details{
Requires the nhdplusTools package. If not available, returns the input
with NA columns added for consistent output format.

Added columns include:
\itemize{
\item nhd_permanent_id: NHD permanent identifier
\item nhd_gnis_name: GNIS name from NHD
\item nhd_areasqkm: Area in square kilometers from NHD
\item outlet_dist_m: Distance to outlet in meters
\item outlet_bearing: Compass direction to outlet
\item inlet_nearest_dist_m: Distance to nearest inlet
\item inlet_nearest_bearing: Compass direction to nearest inlet
\item inlet_count: Number of inlets
\item connectivity_class: Headwater/Drainage/Terminal/Isolated
\item outlet_stream_order: Strahler stream order at outlet
\item watershed_area_ha: Watershed area in hectares
\item lake_watershed_ratio: Lake area / watershed area
}
}
\examples{
\donttest{
results <- fetch_calculate(sites, lake)
results_with_context <- add_lake_context(results, lake$all_lakes, lake$utm_epsg)
}

}
